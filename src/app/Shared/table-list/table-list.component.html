<div class="overflow-auto">
  <table mat-table [dataSource]="dataSource" class="primary-table {{className}}" >
    <ng-container *ngFor="let column of columns; let i = index;">
      <ng-container [matColumnDef]="column">
        <th mat-header-cell *matHeaderCellDef> {{columnsConfig[i].label}} </th>
        <td mat-cell *matCellDef="let element" class="{{columnsConfig[i].type}}">
          <ng-container [ngSwitch]="columnsConfig[i].type">
            <span [ngClass]="columnsConfig[i].type" *ngSwitchCase="'file'">
              {{ element[column] }}
            </span>
            <span [ngClass]="columnsConfig[i].type" *ngSwitchCase="'popup'" (click)="openPopup(columnsConfig[i].popupType)">
              {{ element[column] }}
            </span>
            <span class="{{element[column].type}}" [ngClass]="columnsConfig[i].type" *ngSwitchCase="'status'">
              {{ element[column].label }}
            </span>
            <div class="{{element[column].type}}" *ngSwitchCase="'toggle'">
              <mat-slide-toggle [checked]="element[column]"></mat-slide-toggle>
            </div>
            <div class="img-card table-img" *ngSwitchCase="'image'">
              <img [src]="element[column]" alt="">
            </div>
            <div [ngClass]="columnsConfig[i].type" *ngSwitchCase="'input'">

              <mat-form-field>
                <div class="input-content">
                  <input matInput [placeholder]="element[column]" >
                </div>
              </mat-form-field>
            </div>
            <div class="d-flex mx-n2" *ngSwitchCase="'action'">
              <ng-container *ngFor="let action of element[column]">
                <button mat-flat-button class="btn primary-button font-weight-bolder mx-2" *ngIf="action === 'download'">
                  <span class="btn-icon fi fi-download"></span>
                  <span>{{ element[column] }}</span>
                </button>

                <button mat-flat-button
                        class="btn publish-button {{ element.status }} font-weight-bolder mx-2"
                        (click)="togglePublishBtn(element)"
                        *ngIf="action === 'publish'">
                  <span class="text">{{ element.status }}</span>
                  <span class="unpublished">unpublished</span>
                </button>

                <button mat-icon-button class="btn square action-button delete mx-2" type="button" *ngIf="action === 'delete'" (click)="delete()">
                  <span class="fi fi-trash text-color-red"></span>
                </button>

                <button mat-icon-button  class="btn square action-button edit font-18 mx-2" *ngIf="action === 'edit'">
                  <span class="fi fi-pen text-color-gray"></span>
                </button>
              </ng-container>

            </div>

            <span [ngClass]="columnsConfig[i].type" *ngSwitchDefault>
              {{ element[column] }}
            </span>
          </ng-container>

        </td>
      </ng-container>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="columns"></tr>
    <tr mat-row *matRowDef="let row; columns: columns;"></tr>
  </table>
</div>
